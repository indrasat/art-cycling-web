<!DOCTYPE html>
<html lang="en" ng-app="main">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title></title>
    <link rel="profile" href="http://gmpg.org/xfn/11">
    <script>(function(html){html.className = html.className.replace(/\bno-js\b/,'js')})(document.documentElement);</script>
    <link rel="dns-prefetch" href="//fonts.googleapis.com">
    <link rel="dns-prefetch" href="//s.w.org">
    <link href="https://fonts.gstatic.com" crossorigin="" rel="preconnect">
    <link rel="icon" href="images/identity/favicon.png" type="image/x-icon">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Material+Icons|Roboto:400,400i,500,900" type="text/css" media="all"/>
    <link rel="stylesheet" href="fonts/font-awesome/css/font-awesome.min.css" type="text/css" media="all"/>
    <link rel="stylesheet" href="/dist/css/style.css" type="text/css" media="all"/>

     <!-- bower:css -->
     <link rel="stylesheet" href="bower_components/ng-dialog/css/ngDialog.css" />
     <link rel="stylesheet" href="bower_components/ng-dialog/css/ngDialog-theme-default.css" />
     <link rel="stylesheet" href="bower_components/chosen/chosen.css" />
     <link rel="stylesheet" href="bower_components/angular-ui-notification/dist/angular-ui-notification.css" />
     <link rel="stylesheet" href="bower_components/fullcalendar/dist/fullcalendar.css" />
     <link rel="stylesheet" href="bower_components/angular-ui-switch/angular-ui-switch.css" />
     <link rel="stylesheet" href="bower_components/malihu-custom-scrollbar-plugin/jquery.mCustomScrollbar.css" />
     <link rel="stylesheet" href="bower_components/jquery.scrollbar/jquery.scrollbar.css" />
     <link rel="stylesheet" href="bower_components/nvd3/build/nv.d3.css" />
     <link rel="stylesheet" href="bower_components/angular-flash-alert/dist/angular-flash.css" />
     <link rel="stylesheet" href="bower_components/components-font-awesome/css/font-awesome.css" />
     <link rel="stylesheet" href="bower_components/textAngular/dist/textAngular.css" />
     <link rel="stylesheet" href="bower_components/angular-loading-bar/build/loading-bar.css" />
     <!-- endbower -->
  </head>
  <body class="archive has-banner">
    <div id="page" class="site">
        <div ui-view></div>
    </div><!-- #page -->
    <script src="dist/js/libs/jquery-3.2.1.min.js"></script>
    <script src="dist/js/libs/masonry.pkgd.min.js"></script>
    <script src="dist/js/libs/ResizeSensor.min.js"></script>
    <script src="dist/js/libs/theia-sticky-sidebar.min.js"></script>

    <script src="dist/js/libs/waves.min.js"></script>
    <script src="dist/js/libs/hammer.min.js"></script>
    <script src="dist/js/libs/lazysizes.min.js"></script>
    <script src="dist/js/libs/is-touch-device.min.js"></script>
    <script src="dist/js/libs/spark.min.js"></script>
    <script src="dist/js/libs/tooltip.min.js"></script>
    <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyC60ZzdjlZmLp4WBwa8BqiNya2Gu5g49_M&callback=initMap"></script>

    <!-- bower:js -->
<script src="bower_components/angular/angular.js"></script>
<script src="bower_components/angular-mocks/angular-mocks.js"></script>
<script src="bower_components/angular-bootstrap/ui-bootstrap-tpls.js"></script>
<script src="bower_components/angular-cookies/angular-cookies.js"></script>
<script src="bower_components/angular-route/angular-route.js"></script>
<script src="bower_components/angular-ui-router/release/angular-ui-router.js"></script>
<script src="bower_components/angular-resource/angular-resource.js"></script>
<script src="bower_components/angular-animate/angular-animate.js"></script>
<script src="bower_components/ng-dialog/js/ngDialog.js"></script>
<script src="bower_components/jquery/dist/jquery.js"></script>
<script src="bower_components/bootstrap/dist/js/bootstrap.js"></script>
<script src="bower_components/cr-acl/cr-acl.js"></script>
<script src="bower_components/chosen/chosen.jquery.js"></script>
<script src="bower_components/angular-chosen-localytics/dist/angular-chosen.js"></script>
<script src="bower_components/flow.js/dist/flow.js"></script>
<script src="bower_components/ng-flow/dist/ng-flow.js"></script>
<script src="bower_components/angular-mask/dist/ngMask.js"></script>
<script src="bower_components/checklist-model/checklist-model.js"></script>
<script src="bower_components/angular-ui-notification/dist/angular-ui-notification.js"></script>
<script src="bower_components/moment/moment.js"></script>
<script src="bower_components/fullcalendar/dist/fullcalendar.js"></script>
<script src="bower_components/angular-ui-calendar/src/calendar.js"></script>
<script src="bower_components/angular-ui-switch/angular-ui-switch.js"></script>
<script src="bower_components/jquery-mousewheel/jquery.mousewheel.js"></script>
<script src="bower_components/malihu-custom-scrollbar-plugin/jquery.mCustomScrollbar.js"></script>
<script src="bower_components/ng-scrollbars/dist/scrollbars.min.js"></script>
<script src="bower_components/jquery.scrollbar/jquery.scrollbar.js"></script>
<script src="bower_components/d3/d3.js"></script>
<script src="bower_components/nvd3/build/nv.d3.js"></script>
<script src="bower_components/angular-nvd3/dist/angular-nvd3.js"></script>
<script src="bower_components/angular-flash-alert/dist/angular-flash.js"></script>
<script src="bower_components/rangy/rangy-core.js"></script>
<script src="bower_components/rangy/rangy-classapplier.js"></script>
<script src="bower_components/rangy/rangy-highlighter.js"></script>
<script src="bower_components/rangy/rangy-selectionsaverestore.js"></script>
<script src="bower_components/rangy/rangy-serializer.js"></script>
<script src="bower_components/rangy/rangy-textrange.js"></script>
<script src="bower_components/textAngular/dist/textAngular.js"></script>
<script src="bower_components/textAngular/dist/textAngular-sanitize.js"></script>
<script src="bower_components/textAngular/dist/textAngularSetup.js"></script>
<script src="bower_components/angular-loading-bar/build/loading-bar.js"></script>
<script src="bower_components/angular-environment/dist/angular-environment.js"></script>
<script src="bower_components/angular-sticky/dist/angular-sticky.js"></script>
<script src="bower_components/smooth-scroll/smooth-scroll.js"></script>

<!-- endbower -->

    <script src="dist/js/main.js"></script>
    <script src="dist/js/app.js"></script>
    <script>
        $( document ).ready(function(){
            // Global Google map initMap function
            function initMap() {

            'use strict'

            function draw( canvas, styles ){

                var self = this;

                function start(){

                self.options = window[canvas.getAttribute('data-map')];
                if ( self.options ) map();
                }

                function map(){

                self.map = new google.maps.Map(canvas, {
                    scrollwheel: false,
                    zoom: self.options.zoom || 4,
                    center: self.options.location,
                    styles: styles.theme
                });

                path();
                }

                function path(){

                if ( self.options.path ) {

                    self.line = new google.maps.Polyline({
                    geodesic: true,
                    strokeOpacity: 1.0,
                    strokeColor: self.options.path.color,
                    strokeWeight: self.options.path.weight,
                    path: self.options.path.coordinates
                    });

                    self.line.setMap(self.map);
                }

                marker();
                }

                function marker(){

                var markers = [];

                if ( self.line ) {

                    markers.push({
                    position: self.options.path.coordinates[0],
                    icon: styles.markers.start
                    });

                    markers.push({
                    position: self.options.path.coordinates.slice(-1).pop(),
                    icon: styles.markers.finish
                    });

                } else {

                    markers.push({
                    position: self.options.location,
                    icon: styles.markers.defualt
                    });
                }

                for (var i = 0, len = markers.length; i < len; i++) {
                    addMarker( markers[i] );
                }

                setTimeout(info, 50);
                }

                function addMarker( i ){

                if ( !self.marker ) self.marker = [];

                setTimeout(function(){

                    self.marker.push( new google.maps.Marker({
                    map: self.map,
                    animation: google.maps.Animation.DROP,
                    position: i.position,
                    draggable: false,
                    optimized: false,
                    icon: {
                        url: i.icon.url,
                        scaledSize: new google.maps.Size(i.icon.size[0], i.icon.size[1])
                    }
                    }));
                }, 0 );
                }

                function info(){

                if ( self.options.infowindows ) {
                    for (var i = 0, len = self.marker.length; i < len; i++) {
                    if ( self.options.infowindows[i] ){
                        addInfo(self.options.infowindows[i], self.marker[i])
                    }
                    }

                    // console.log(self.info);
                }
                }

                function addInfo(i, m){

                if ( !self.info ) self.info = [];

                var info = new google.maps.InfoWindow({
                    content: i
                });

                self.info.push(info);

                m.addListener('click', function() {
                    info.open(self.map, m);
                });
                }

                start();
            }

            function init(){

                var maps = document.querySelectorAll('[data-map]'),
                    styles = getStyles();

                if ( maps ){
                for (var i = 0, len = maps.length; i < len; i++) {
                    var canvas = new draw( maps[i], styles );
                }
                }
            }

            function getStyles(){

                try {
                return googleMapStyles;
                } catch (e) {
                return {
                    markers: {
                    defualt: {
                        url: '/public/images/icons/room.svg',
                        size: [48,48]
                    },
                    start: {
                        url: '/public/images/icons/room.svg',
                        size: [32,32]
                    },
                    finish: {
                        url: '/public/images/icons/flag.svg',
                        size: [32,32]
                    }
                    },
                    theme: [
                    {
                        "elementType": "geometry",
                        "stylers": [
                        {
                            "color": "#f5f5f5"
                        }
                        ]
                    },
                    {
                        "elementType": "geometry.fill",
                        "stylers": [
                        {
                            "color": "#dedede"
                        }
                        ]
                    },
                    {
                        "elementType": "labels.icon",
                        "stylers": [
                        {
                            "visibility": "off"
                        }
                        ]
                    },
                    {
                        "elementType": "labels.text.fill",
                        "stylers": [
                        {
                            "color": "#616161"
                        }
                        ]
                    },
                    {
                        "elementType": "labels.text.stroke",
                        "stylers": [
                        {
                            "color": "#f5f5f5"
                        }
                        ]
                    },
                    {
                        "featureType": "administrative.land_parcel",
                        "stylers": [
                        {
                            "visibility": "off"
                        }
                        ]
                    },
                    {
                        "featureType": "administrative.land_parcel",
                        "elementType": "labels.text.fill",
                        "stylers": [
                        {
                            "color": "#bdbdbd"
                        }
                        ]
                    },
                    {
                        "featureType": "administrative.neighborhood",
                        "stylers": [
                        {
                            "visibility": "off"
                        }
                        ]
                    },
                    {
                        "featureType": "poi",
                        "elementType": "geometry",
                        "stylers": [
                        {
                            "color": "#eeeeee"
                        }
                        ]
                    },
                    {
                        "featureType": "poi",
                        "elementType": "labels.text",
                        "stylers": [
                        {
                            "visibility": "off"
                        }
                        ]
                    },
                    {
                        "featureType": "poi",
                        "elementType": "labels.text.fill",
                        "stylers": [
                        {
                            "color": "#757575"
                        }
                        ]
                    },
                    {
                        "featureType": "poi.business",
                        "stylers": [
                        {
                            "visibility": "off"
                        }
                        ]
                    },
                    {
                        "featureType": "poi.park",
                        "elementType": "geometry",
                        "stylers": [
                        {
                            "color": "#e5e5e5"
                        }
                        ]
                    },
                    {
                        "featureType": "poi.park",
                        "elementType": "labels.text",
                        "stylers": [
                        {
                            "visibility": "off"
                        }
                        ]
                    },
                    {
                        "featureType": "poi.park",
                        "elementType": "labels.text.fill",
                        "stylers": [
                        {
                            "color": "#9e9e9e"
                        }
                        ]
                    },
                    {
                        "featureType": "road",
                        "elementType": "geometry",
                        "stylers": [
                        {
                            "color": "#ffffff"
                        }
                        ]
                    },
                    {
                        "featureType": "road",
                        "elementType": "labels",
                        "stylers": [
                        {
                            "visibility": "off"
                        }
                        ]
                    },
                    {
                        "featureType": "road.arterial",
                        "elementType": "labels.text.fill",
                        "stylers": [
                        {
                            "color": "#757575"
                        }
                        ]
                    },
                    {
                        "featureType": "road.highway",
                        "elementType": "geometry",
                        "stylers": [
                        {
                            "color": "#dadada"
                        }
                        ]
                    },
                    {
                        "featureType": "road.highway",
                        "elementType": "labels.text.fill",
                        "stylers": [
                        {
                            "color": "#616161"
                        }
                        ]
                    },
                    {
                        "featureType": "road.local",
                        "elementType": "labels.text.fill",
                        "stylers": [
                        {
                            "color": "#9e9e9e"
                        }
                        ]
                    },
                    {
                        "featureType": "transit.line",
                        "elementType": "geometry",
                        "stylers": [
                        {
                            "color": "#e5e5e5"
                        }
                        ]
                    },
                    {
                        "featureType": "transit.station",
                        "elementType": "geometry",
                        "stylers": [
                        {
                            "color": "#eeeeee"
                        }
                        ]
                    },
                    {
                        "featureType": "water",
                        "elementType": "geometry",
                        "stylers": [
                        {
                            "color": "#c9c9c9"
                        }
                        ]
                    },
                    {
                        "featureType": "water",
                        "elementType": "labels.text",
                        "stylers": [
                        {
                            "visibility": "off"
                        }
                        ]
                    },
                    {
                        "featureType": "water",
                        "elementType": "labels.text.fill",
                        "stylers": [
                        {
                            "color": "#9e9e9e"
                        }
                        ]
                    }
                    ]

                }
                }
            }

            setTimeout(init, 0);
            }

        })
    </script>
  </body>

</html>
